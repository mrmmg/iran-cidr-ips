# Iran CIDR List (Auto Generated)

This project automatically generates an up-to-date list of Iranian IP ranges (CIDR format) by decompiling official sing-box GeoIP rule-set files.

The entire process is fully automated using GitHub Actions and produces human-readable CIDR files suitable for firewalls, routing rules, proxies, and security tools.

---

## What This Project Does

1. Downloads the latest Iranian GeoIP rule-set (`.srs`) used by sing-box
2. Uses the **sing-box core itself** to decompile the binary rule-set into JSON
3. Extracts all `ip_cidr` entries from the JSON output
4. Generates a clean, sorted CIDR list in `.txt` format
5. Publishes the result as a GitHub Release with timestamped filenames

This approach avoids reverse-engineering, DNS resolution, or ASN guessing.

---

## Why sing-box?

The GeoIP rule-set files are binary and not designed to be parsed manually.

Instead of attempting to decode undocumented formats, this project relies on the **official sing-box engine** as the authoritative parser.  
This guarantees maximum compatibility and correctness with upstream rule-set updates.

---

## Output Format

Each release contains:

- `iran-YYYY-MM-DD-HHMM.txt`  
  A plain text file containing Iranian IP ranges in CIDR notation

- `geoip-ir.json`  
  The full JSON output generated by sing-box (for transparency and debugging)

Example filename: iran-2025-12-16-2007.txt


---

## Automation

The workflow runs automatically using GitHub Actions:

- Scheduled execution (daily)
- Manual trigger via `workflow_dispatch`
- Each run generates a new timestamped release

No manual steps are required.

---

## Use Cases

The generated CIDR list can be used for:

- Firewall rules (iptables, nftables, ipset)
- Proxy routing (sing-box, Xray, Clash)
- Traffic classification
- Geo-based access control
- Network monitoring and filtering

---

## Data Source

- GeoIP rule-set provided by:
  - https://github.com/Chocolate4U/Iran-sing-box-rules

This project does **not** maintain or modify IP data manually.

---

## Disclaimer

- IP allocations may change over time
- CDN and hosting providers can affect routing behavior
- This project provides best-effort data based on upstream rule-sets

Always validate before using in critical production environments.

---

## License

This project is provided as-is under the MIT License.
